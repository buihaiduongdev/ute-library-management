<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="index.html">Trang ch·ªß</a> &gt; C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n
        </div>

        <h1>‚úèÔ∏è C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n</h1>

        <div class="section">
            <h2>T·ªïng quan</h2>
            <p>B·∫°n c√≥ th·ªÉ c·∫≠p nh·∫≠t m·ªôt s·ªë th√¥ng tin c√° nh√¢n nh∆∞ email, s·ªë ƒëi·ªán tho·∫°i, ƒë·ªãa ch·ªâ. M·ªôt s·ªë th√¥ng tin nh∆∞ username, ID ƒë·ªôc gi·∫£ kh√¥ng th·ªÉ thay ƒë·ªïi.</p>
        </div>

        <div class="section">
            <h2>Th√¥ng tin c√≥ th·ªÉ c·∫≠p nh·∫≠t</h2>
            
            <table class="data-table">
                <tr>
                    <th>Tr∆∞·ªùng th√¥ng tin</th>
                    <th>C√≥ th·ªÉ s·ª≠a</th>
                    <th>Ghi ch√∫</th>
                </tr>
                <tr>
                    <td>Email</td>
                    <td>‚úì C√≥</td>
                    <td>Email h·ª£p l·ªá, ch∆∞a ƒë∆∞·ª£c s·ª≠ d·ª•ng</td>
                </tr>
                <tr>
                    <td>S·ªë ƒëi·ªán tho·∫°i</td>
                    <td>‚úì C√≥</td>
                    <td>10-11 s·ªë</td>
                </tr>
                <tr>
                    <td>ƒê·ªãa ch·ªâ</td>
                    <td>‚úì C√≥</td>
                    <td>ƒê·ªãa ch·ªâ li√™n l·∫°c</td>
                </tr>
                <tr>
                    <td>H·ªç t√™n</td>
                    <td>‚ö†Ô∏è H·∫°n ch·∫ø</td>
                    <td>C·∫ßn li√™n h·ªá th∆∞ vi·ªán ƒë·ªÉ ƒë·ªïi</td>
                </tr>
                <tr>
                    <td>Username</td>
                    <td>‚úó Kh√¥ng</td>
                    <td>Kh√¥ng th·ªÉ thay ƒë·ªïi</td>
                </tr>
                <tr>
                    <td>ID ƒë·ªôc gi·∫£</td>
                    <td>‚úó Kh√¥ng</td>
                    <td>Kh√¥ng th·ªÉ thay ƒë·ªïi</td>
                </tr>
            </table>
        </div>

        <div class="section">
            <h2>C√°ch c·∫≠p nh·∫≠t th√¥ng tin</h2>
            
            <h3>B∆∞·ªõc 1: ƒêƒÉng nh·∫≠p v√† l·∫•y token</h3>
            <p>Xem h∆∞·ªõng d·∫´n t·∫°i: <a href="authentication.html">ƒêƒÉng k√Ω & ƒêƒÉng nh·∫≠p</a></p>

            <h3>B∆∞·ªõc 2: G·ªçi API c·∫≠p nh·∫≠t</h3>
            <div class="code-block">
                <p><strong>Endpoint:</strong> PUT /api/readers/:id</p>
                <p><strong>URL m·∫´u:</strong> http://localhost:5000/api/readers/5</p>
                <p><strong>Method:</strong> PUT</p>
                <p><strong>Quy·ªÅn:</strong> Reader (c·∫ßn token, ch·ªâ s·ª≠a c·ªßa m√¨nh)</p>
                <p><strong>Headers:</strong></p>
                <pre>Authorization: Bearer {your_token_here}
Content-Type: application/json</pre>
            </div>

            <h3>Request Body</h3>
            <div class="code-block">
                <pre>{
  "email": "newemail@example.com",
  "phone": "0987654321",
  "address": "123 Nguyen Van Linh, Q7, TP.HCM"
}</pre>
            </div>

            <div class="tip">
                <strong>üí° M·∫πo:</strong> B·∫°n kh√¥ng c·∫ßn g·ª≠i t·∫•t c·∫£ c√°c tr∆∞·ªùng. Ch·ªâ g·ª≠i nh·ªØng tr∆∞·ªùng mu·ªën thay ƒë·ªïi.
            </div>
        </div>

        <div class="section">
            <h2>V√≠ d·ª• chi ti·∫øt</h2>
            
            <h3>V√≠ d·ª• 1: Ch·ªâ ƒë·ªïi email</h3>
            <div class="code-block">
                <p><strong>Request:</strong></p>
                <pre>PUT http://localhost:5000/api/readers/5
Headers: 
  Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
  Content-Type: application/json

Body:
{
  "email": "new.email@ute.edu.vn"
}</pre>
            </div>

            <div class="code-block">
                <p><strong>Response (200 OK):</strong></p>
                <pre>{
  "success": true,
  "message": "C·∫≠p nh·∫≠t th√¥ng tin th√†nh c√¥ng",
  "data": {
    "id": 5,
    "username": "reader123",
    "email": "new.email@ute.edu.vn",
    "phone": "0123456789",
    "address": "123 Le Van Viet",
    "fullName": "Nguyen Van A"
  }
}</pre>
            </div>

            <h3>V√≠ d·ª• 2: ƒê·ªïi nhi·ªÅu th√¥ng tin c√πng l√∫c</h3>
            <div class="code-block">
                <p><strong>Request:</strong></p>
                <pre>PUT http://localhost:5000/api/readers/5
Headers: 
  Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
  Content-Type: application/json

Body:
{
  "email": "nguyenvana@ute.edu.vn",
  "phone": "0909123456",
  "address": "456 Le Van Viet, Q9, TP.HCM"
}</pre>
            </div>

            <h3>V√≠ d·ª• 3: S·ª≠ d·ª•ng JavaScript</h3>
            <div class="code-block">
                <pre>const token = localStorage.getItem('token');
const userId = 5;

const updateData = {
  email: "newemail@example.com",
  phone: "0987654321",
  address: "123 Nguyen Van Linh, Q7"
};

fetch(`http://localhost:5000/api/readers/${userId}`, {
  method: 'PUT',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(updateData)
})
.then(response => response.json())
.then(data => {
  if (data.success) {
    console.log('C·∫≠p nh·∫≠t th√†nh c√¥ng:', data.data);
  } else {
    console.error('L·ªói:', data.message);
  }
})
.catch(error => {
  console.error('L·ªói k·∫øt n·ªëi:', error);
});</pre>
            </div>
        </div>

        <div class="section">
            <h2>X·ª≠ l√Ω l·ªói</h2>
            
            <div class="error-box">
                <h3>‚ùå 400 Bad Request - D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá</h3>
                <p><strong>Nguy√™n nh√¢n:</strong></p>
                <ul>
                    <li>Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng</li>
                    <li>S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá</li>
                    <li>D·ªØ li·ªáu tr·ªëng ho·∫∑c thi·∫øu</li>
                </ul>
                <p><strong>Gi·∫£i ph√°p:</strong> Ki·ªÉm tra l·∫°i ƒë·ªãnh d·∫°ng d·ªØ li·ªáu</p>
                <div class="code-block">
                    <pre>// Email h·ª£p l·ªá
"email": "user@example.com"

// S·ªë ƒëi·ªán tho·∫°i h·ª£p l·ªá
"phone": "0909123456"  // 10 s·ªë
"phone": "84909123456" // 11 s·ªë</pre>
                </div>
            </div>

            <div class="error-box">
                <h3>‚ùå 401 Unauthorized - Ch∆∞a ƒëƒÉng nh·∫≠p</h3>
                <p><strong>Nguy√™n nh√¢n:</strong> Thi·∫øu token ho·∫∑c token kh√¥ng h·ª£p l·ªá</p>
                <p><strong>Gi·∫£i ph√°p:</strong> ƒêƒÉng nh·∫≠p l·∫°i v√† l·∫•y token m·ªõi</p>
            </div>

            <div class="error-box">
                <h3>‚ùå 403 Forbidden - Kh√¥ng c√≥ quy·ªÅn</h3>
                <p><strong>Nguy√™n nh√¢n:</strong> C·ªë g·∫Øng s·ª≠a th√¥ng tin c·ªßa ng∆∞·ªùi kh√°c</p>
                <p><strong>Gi·∫£i ph√°p:</strong> Ch·ªâ s·ª≠a th√¥ng tin c·ªßa ch√≠nh m√¨nh (ID ph·∫£i kh·ªõp)</p>
            </div>

            <div class="error-box">
                <h3>‚ùå 409 Conflict - Email ƒë√£ t·ªìn t·∫°i</h3>
                <p><strong>Nguy√™n nh√¢n:</strong> Email m·ªõi ƒë√£ ƒë∆∞·ª£c ng∆∞·ªùi kh√°c s·ª≠ d·ª•ng</p>
                <p><strong>Gi·∫£i ph√°p:</strong> Ch·ªçn email kh√°c</p>
            </div>
        </div>

        <div class="section">
            <h2>Ki·ªÉm tra k·∫øt qu·∫£</h2>
            
            <p>Sau khi c·∫≠p nh·∫≠t th√†nh c√¥ng, b·∫°n c√≥ th·ªÉ x√°c nh·∫≠n b·∫±ng c√°ch:</p>

            <h3>C√°ch 1: Ki·ªÉm tra response</h3>
            <p>Response tr·∫£ v·ªÅ s·∫Ω ch·ª©a th√¥ng tin m·ªõi ƒë√£ c·∫≠p nh·∫≠t trong tr∆∞·ªùng <code>data</code>.</p>

            <h3>C√°ch 2: G·ªçi l·∫°i API xem th√¥ng tin</h3>
            <div class="code-block">
                <pre>GET http://localhost:5000/api/readers/5
Headers: 
  Authorization: Bearer {your_token}</pre>
            </div>
            <p>Ki·ªÉm tra c√°c tr∆∞·ªùng ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t ƒë√∫ng ch∆∞a.</p>
        </div>

        <div class="section">
            <h2>L∆∞u √Ω quan tr·ªçng</h2>
            
            <div class="warning">
                <ul>
                    <li>‚ö†Ô∏è Email m·ªõi ph·∫£i ch∆∞a ƒë∆∞·ª£c s·ª≠ d·ª•ng trong h·ªá th·ªëng</li>
                    <li>‚ö†Ô∏è Kh√¥ng th·ªÉ ƒë·ªïi username sau khi ƒë√£ ƒëƒÉng k√Ω</li>
                    <li>‚ö†Ô∏è Ch·ªâ c√≥ th·ªÉ s·ª≠a th√¥ng tin c·ªßa ch√≠nh m√¨nh</li>
                    <li>‚ö†Ô∏è M·ªôt s·ªë th√¥ng tin nh∆∞ h·ªç t√™n c·∫ßn li√™n h·ªá th∆∞ vi·ªán ƒë·ªÉ thay ƒë·ªïi</li>
                    <li>‚ö†Ô∏è Th√¥ng tin m·ªõi s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c th√¥ng b√°o v√† li√™n l·∫°c</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>C√¢u h·ªèi th∆∞·ªùng g·∫∑p</h2>
            
            <div class="faq">
                <p><strong>Q: T√¥i c√≥ th·ªÉ ƒë·ªïi username kh√¥ng?</strong></p>
                <p>A: Kh√¥ng, username kh√¥ng th·ªÉ thay ƒë·ªïi sau khi ƒëƒÉng k√Ω. N·∫øu c·∫ßn, b·∫°n ph·∫£i t·∫°o t√†i kho·∫£n m·ªõi.</p>
            </div>

            <div class="faq">
                <p><strong>Q: L√†m sao ƒë·ªïi m·∫≠t kh·∫©u?</strong></p>
                <p>A: Ch·ª©c nƒÉng ƒë·ªïi m·∫≠t kh·∫©u th∆∞·ªùng ƒë∆∞·ª£c tri·ªÉn khai ri√™ng. Li√™n h·ªá th∆∞ vi·ªán ho·∫∑c xem API ƒë·ªïi m·∫≠t kh·∫©u (n·∫øu c√≥).</p>
            </div>

            <div class="faq">
                <p><strong>Q: Email c≈© c√≥ c√≤n ho·∫°t ƒë·ªông kh√¥ng sau khi ƒë·ªïi?</strong></p>
                <p>A: Kh√¥ng, email m·ªõi s·∫Ω thay th·∫ø ho√†n to√†n email c≈© trong h·ªá th·ªëng.</p>
            </div>

            <div class="faq">
                <p><strong>Q: T√¥i c√≥ th·ªÉ ƒë·ªÉ tr·ªëng ƒë·ªãa ch·ªâ kh√¥ng?</strong></p>
                <p>A: T√πy c·∫•u h√¨nh h·ªá th·ªëng. N√™n ƒëi·ªÅn ƒë·∫ßy ƒë·ªß ƒë·ªÉ ti·ªán li√™n l·∫°c khi c·∫ßn.</p>
            </div>
        </div>

        <div class="navigation">
            <a href="card_renewal.html" class="btn">‚Üê Gia h·∫°n th·∫ª</a>
            <a href="card_info.html" class="btn">Xem th√¥ng tin th·∫ª ‚Üí</a>
        </div>
    </div>
</body>
</html>


