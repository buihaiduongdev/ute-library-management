<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√†i li·ªáu API tham kh·∫£o</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="index.html">Trang ch·ªß</a> &gt; T√†i li·ªáu API tham kh·∫£o
        </div>

        <h1>üìö T√†i li·ªáu API tham kh·∫£o</h1>
        <p class="subtitle">API li√™n quan ƒë·∫øn Qu·∫£n l√Ω ƒë·ªôc gi·∫£ v√† Gia h·∫°n th·∫ª</p>

        <div class="section">
            <h2>Danh s√°ch API</h2>
            <ul class="api-list">
                <li><a href="#api-register">POST /api/auth/register - ƒêƒÉng k√Ω t√†i kho·∫£n</a></li>
                <li><a href="#api-login">POST /api/auth/login - ƒêƒÉng nh·∫≠p</a></li>
                <li><a href="#api-get-reader">GET /api/readers/:id - Xem th√¥ng tin ƒë·ªôc gi·∫£</a></li>
                <li><a href="#api-update-reader">PUT /api/readers/:id - C·∫≠p nh·∫≠t th√¥ng tin</a></li>
                <li><a href="#api-card-info">GET /api/readers/:id/card-info - Xem th√¥ng tin th·∫ª</a></li>
                <li><a href="#api-borrow-info">GET /api/readers/:id/borrow-info - Xem t·ªïng quan m∆∞·ª£n s√°ch</a></li>
            </ul>
        </div>

        <div class="api-detail" id="api-register">
            <h2>1. POST /api/auth/register</h2>
            <p><strong>M√¥ t·∫£:</strong> ƒêƒÉng k√Ω t√†i kho·∫£n ƒë·ªôc gi·∫£ m·ªõi</p>
            <p><strong>Quy·ªÅn:</strong> Public (kh√¥ng c·∫ßn token)</p>
            
            <h3>Request</h3>
            <div class="code-block">
                <p><strong>URL:</strong> http://localhost:5000/api/auth/register</p>
                <p><strong>Method:</strong> POST</p>
                <p><strong>Headers:</strong></p>
                <pre>Content-Type: application/json</pre>
                <p><strong>Body:</strong></p>
                <pre>{
  "username": "reader123",
  "password": "123456",
  "email": "reader@example.com",
  "fullName": "Nguyen Van A",
  "phone": "0123456789"
}</pre>
            </div>

            <h3>Response th√†nh c√¥ng (201)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "message": "ƒêƒÉng k√Ω th√†nh c√¥ng",
  "data": {
    "user_id": 5,
    "username": "reader123",
    "email": "reader@example.com",
    "role": "reader"
  }
}</pre>
            </div>

            <h3>Response l·ªói</h3>
            <table class="error-table">
                <tr>
                    <th>Code</th>
                    <th>Nguy√™n nh√¢n</th>
                </tr>
                <tr>
                    <td>400</td>
                    <td>Thi·∫øu th√¥ng tin b·∫Øt bu·ªôc</td>
                </tr>
                <tr>
                    <td>409</td>
                    <td>Username ho·∫∑c email ƒë√£ t·ªìn t·∫°i</td>
                </tr>
            </table>
        </div>

        <div class="api-detail" id="api-login">
            <h2>2. POST /api/auth/login</h2>
            <p><strong>M√¥ t·∫£:</strong> ƒêƒÉng nh·∫≠p v√†o h·ªá th·ªëng</p>
            <p><strong>Quy·ªÅn:</strong> Public (kh√¥ng c·∫ßn token)</p>
            
            <h3>Request</h3>
            <div class="code-block">
                <p><strong>URL:</strong> http://localhost:5000/api/auth/login</p>
                <p><strong>Method:</strong> POST</p>
                <p><strong>Headers:</strong></p>
                <pre>Content-Type: application/json</pre>
                <p><strong>Body:</strong></p>
                <pre>{
  "username": "reader123",
  "password": "123456"
}</pre>
            </div>

            <h3>Response th√†nh c√¥ng (200)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "message": "ƒêƒÉng nh·∫≠p th√†nh c√¥ng",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 5,
      "username": "reader123",
      "email": "reader@example.com",
      "fullName": "Nguyen Van A",
      "role": "reader"
    }
  }
}</pre>
            </div>

            <h3>Response l·ªói</h3>
            <table class="error-table">
                <tr>
                    <th>Code</th>
                    <th>Nguy√™n nh√¢n</th>
                </tr>
                <tr>
                    <td>401</td>
                    <td>Username ho·∫∑c password sai</td>
                </tr>
            </table>
        </div>

        <div class="api-detail" id="api-get-reader">
            <h2>3. GET /api/readers/:id</h2>
            <p><strong>M√¥ t·∫£:</strong> Xem th√¥ng tin c√° nh√¢n</p>
            <p><strong>Quy·ªÅn:</strong> Reader (c·∫ßn token, ch·ªâ xem c·ªßa m√¨nh)</p>
            
            <h3>Request</h3>
            <div class="code-block">
                <p><strong>URL:</strong> http://localhost:5000/api/readers/5</p>
                <p><strong>Method:</strong> GET</p>
                <p><strong>Headers:</strong></p>
                <pre>Authorization: Bearer {token}
Content-Type: application/json</pre>
                <p><strong>Path Parameters:</strong></p>
                <ul>
                    <li><code>id</code>: ID ƒë·ªôc gi·∫£ (ph·∫£i l√† ID c·ªßa b·∫°n)</li>
                </ul>
            </div>

            <h3>Response th√†nh c√¥ng (200)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "data": {
    "id": 5,
    "username": "reader123",
    "email": "reader@example.com",
    "fullName": "Nguyen Van A",
    "phone": "0123456789",
    "address": "123 Le Van Viet, Q9",
    "created_at": "2024-01-15T10:30:00Z",
    "status": "active"
  }
}</pre>
            </div>

            <h3>Response l·ªói</h3>
            <table class="error-table">
                <tr>
                    <th>Code</th>
                    <th>Nguy√™n nh√¢n</th>
                </tr>
                <tr>
                    <td>401</td>
                    <td>Ch∆∞a ƒëƒÉng nh·∫≠p ho·∫∑c token h·∫øt h·∫°n</td>
                </tr>
                <tr>
                    <td>403</td>
                    <td>Kh√¥ng c√≥ quy·ªÅn xem th√¥ng tin n√†y</td>
                </tr>
                <tr>
                    <td>404</td>
                    <td>Kh√¥ng t√¨m th·∫•y ƒë·ªôc gi·∫£</td>
                </tr>
            </table>
        </div>

        <div class="api-detail" id="api-update-reader">
            <h2>4. PUT /api/readers/:id</h2>
            <p><strong>M√¥ t·∫£:</strong> C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n</p>
            <p><strong>Quy·ªÅn:</strong> Reader (c·∫ßn token, ch·ªâ s·ª≠a c·ªßa m√¨nh)</p>
            
            <h3>Request</h3>
            <div class="code-block">
                <p><strong>URL:</strong> http://localhost:5000/api/readers/5</p>
                <p><strong>Method:</strong> PUT</p>
                <p><strong>Headers:</strong></p>
                <pre>Authorization: Bearer {token}
Content-Type: application/json</pre>
                <p><strong>Body:</strong> (ch·ªâ g·ª≠i c√°c tr∆∞·ªùng c·∫ßn c·∫≠p nh·∫≠t)</p>
                <pre>{
  "email": "newemail@example.com",
  "phone": "0987654321",
  "address": "123 Nguyen Van Linh, Q7"
}</pre>
            </div>

            <h3>Response th√†nh c√¥ng (200)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "message": "C·∫≠p nh·∫≠t th√¥ng tin th√†nh c√¥ng",
  "data": {
    "id": 5,
    "username": "reader123",
    "email": "newemail@example.com",
    "phone": "0987654321",
    "address": "123 Nguyen Van Linh, Q7",
    "fullName": "Nguyen Van A"
  }
}</pre>
            </div>

            <h3>Response l·ªói</h3>
            <table class="error-table">
                <tr>
                    <th>Code</th>
                    <th>Nguy√™n nh√¢n</th>
                </tr>
                <tr>
                    <td>400</td>
                    <td>D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá</td>
                </tr>
                <tr>
                    <td>401</td>
                    <td>Ch∆∞a ƒëƒÉng nh·∫≠p</td>
                </tr>
                <tr>
                    <td>403</td>
                    <td>Kh√¥ng c√≥ quy·ªÅn s·ª≠a</td>
                </tr>
                <tr>
                    <td>409</td>
                    <td>Email ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng</td>
                </tr>
            </table>
        </div>

        <div class="api-detail" id="api-card-info">
            <h2>5. GET /api/readers/:id/card-info</h2>
            <p><strong>M√¥ t·∫£:</strong> Xem th√¥ng tin th·∫ª th∆∞ vi·ªán</p>
            <p><strong>Quy·ªÅn:</strong> Reader (c·∫ßn token)</p>
            
            <h3>Request</h3>
            <div class="code-block">
                <p><strong>URL:</strong> http://localhost:5000/api/readers/5/card-info</p>
                <p><strong>Method:</strong> GET</p>
                <p><strong>Headers:</strong></p>
                <pre>Authorization: Bearer {token}
Content-Type: application/json</pre>
            </div>

            <h3>Response th√†nh c√¥ng (200)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "data": {
    "card_number": "LIB2024001",
    "issue_date": "2024-01-15",
    "expiry_date": "2024-12-31",
    "status": "active",
    "days_remaining": 79,
    "reader_info": {
      "id": 5,
      "fullName": "Nguyen Van A",
      "email": "reader@example.com"
    }
  }
}</pre>
            </div>

            <h3>C√°c tr·∫°ng th√°i th·∫ª</h3>
            <ul>
                <li><strong>active:</strong> Th·∫ª ƒëang ho·∫°t ƒë·ªông</li>
                <li><strong>expired:</strong> Th·∫ª ƒë√£ h·∫øt h·∫°n</li>
                <li><strong>suspended:</strong> Th·∫ª b·ªã ƒë√¨nh ch·ªâ</li>
            </ul>
        </div>

        <div class="api-detail" id="api-borrow-info">
            <h2>6. GET /api/readers/:id/borrow-info</h2>
            <p><strong>M√¥ t·∫£:</strong> Xem th√¥ng tin m∆∞·ª£n s√°ch t·ªïng quan</p>
            <p><strong>Quy·ªÅn:</strong> Reader (c·∫ßn token)</p>
            
            <h3>Request</h3>
            <div class="code-block">
                <p><strong>URL:</strong> http://localhost:5000/api/readers/5/borrow-info</p>
                <p><strong>Method:</strong> GET</p>
                <p><strong>Headers:</strong></p>
                <pre>Authorization: Bearer {token}
Content-Type: application/json</pre>
            </div>

            <h3>Response th√†nh c√¥ng (200)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "data": {
    "reader_id": 5,
    "books_borrowed": 3,
    "books_overdue": 1,
    "total_fines": 50000,
    "borrow_limit": 5,
    "can_borrow_more": true
  }
}</pre>
            </div>

            <h3>Gi·∫£i th√≠ch c√°c tr∆∞·ªùng</h3>
            <table class="data-table">
                <tr>
                    <th>Tr∆∞·ªùng</th>
                    <th>√ù nghƒ©a</th>
                </tr>
                <tr>
                    <td>books_borrowed</td>
                    <td>S·ªë s√°ch ƒëang m∆∞·ª£n</td>
                </tr>
                <tr>
                    <td>books_overdue</td>
                    <td>S·ªë s√°ch qu√° h·∫°n</td>
                </tr>
                <tr>
                    <td>total_fines</td>
                    <td>T·ªïng ti·ªÅn ph·∫°t (VNƒê)</td>
                </tr>
                <tr>
                    <td>borrow_limit</td>
                    <td>Gi·ªõi h·∫°n m∆∞·ª£n t·ªëi ƒëa</td>
                </tr>
                <tr>
                    <td>can_borrow_more</td>
                    <td>C√≥ th·ªÉ m∆∞·ª£n th√™m kh√¥ng</td>
                </tr>
            </table>
        </div>

        <div class="section">
            <h2>Ghi ch√∫ chung</h2>
            
            <h3>Base URL</h3>
            <div class="code-block">
                <pre>Development: http://localhost:5000
Production: https://api.library.ute.edu.vn (v√≠ d·ª•)</pre>
            </div>

            <h3>Format d·ªØ li·ªáu</h3>
            <ul>
                <li>T·∫•t c·∫£ request/response ƒë·ªÅu d√πng JSON</li>
                <li>Encoding: UTF-8</li>
                <li>Ng√†y th√°ng: ISO 8601 (YYYY-MM-DD)</li>
            </ul>

            <h3>HTTP Status Codes</h3>
            <table class="status-table">
                <tr>
                    <th>Code</th>
                    <th>√ù nghƒ©a</th>
                </tr>
                <tr class="success">
                    <td>200</td>
                    <td>Th√†nh c√¥ng</td>
                </tr>
                <tr class="success">
                    <td>201</td>
                    <td>T·∫°o m·ªõi th√†nh c√¥ng</td>
                </tr>
                <tr class="error">
                    <td>400</td>
                    <td>D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá</td>
                </tr>
                <tr class="error">
                    <td>401</td>
                    <td>Ch∆∞a x√°c th·ª±c</td>
                </tr>
                <tr class="error">
                    <td>403</td>
                    <td>Kh√¥ng c√≥ quy·ªÅn</td>
                </tr>
                <tr class="error">
                    <td>404</td>
                    <td>Kh√¥ng t√¨m th·∫•y</td>
                </tr>
                <tr class="error">
                    <td>409</td>
                    <td>Conflict (tr√πng l·∫∑p)</td>
                </tr>
                <tr class="error">
                    <td>500</td>
                    <td>L·ªói server</td>
                </tr>
            </table>

            <h3>Rate Limiting</h3>
            <p>Gi·ªõi h·∫°n: 100 requests / 15 ph√∫t / IP (c√≥ th·ªÉ thay ƒë·ªïi)</p>
            <p>N·∫øu v∆∞·ª£t qu√°, s·∫Ω nh·∫≠n HTTP 429 - Too Many Requests</p>
        </div>

        <div class="navigation">
            <a href="troubleshooting.html" class="btn">‚Üê X·ª≠ l√Ω s·ª± c·ªë</a>
            <a href="index.html" class="btn">Trang ch·ªß ‚Üí</a>
        </div>
    </div>
</body>
</html>


