<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÄÄƒng kÃ½ & ÄÄƒng nháº­p</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="index.html">Trang chá»§</a> &gt; ÄÄƒng kÃ½ & ÄÄƒng nháº­p
        </div>

        <h1>ğŸ” ÄÄƒng kÃ½ & ÄÄƒng nháº­p</h1>

        <div class="section">
            <h2>1. ÄÄƒng kÃ½ tÃ i khoáº£n má»›i</h2>
            
            <h3>Má»¥c Ä‘Ã­ch</h3>
            <p>Táº¡o tÃ i khoáº£n Ä‘á»™c giáº£ Ä‘á»ƒ sá»­ dá»¥ng dá»‹ch vá»¥ thÆ° viá»‡n.</p>

            <h3>API sá»­ dá»¥ng</h3>
            <div class="code-block">
                <p><strong>Endpoint:</strong> POST /api/auth/register</p>
                <p><strong>URL:</strong> http://localhost:5000/api/auth/register</p>
                <p><strong>Method:</strong> POST</p>
                <p><strong>Quyá»n:</strong> Public (khÃ´ng cáº§n token)</p>
                <p><strong>Headers:</strong></p>
                <pre>Content-Type: application/json</pre>
            </div>

            <h3>Request Body</h3>
            <div class="code-block">
                <pre>{
  "username": "reader123",
  "password": "123456",
  "email": "reader@example.com",
  "fullName": "Nguyen Van A",
  "phone": "0123456789"
}</pre>
            </div>

            <h3>YÃªu cáº§u dá»¯ liá»‡u</h3>
            <table class="data-table">
                <tr>
                    <th>TrÆ°á»ng</th>
                    <th>Báº¯t buá»™c</th>
                    <th>Äá»‹nh dáº¡ng</th>
                    <th>Ghi chÃº</th>
                </tr>
                <tr>
                    <td>username</td>
                    <td>CÃ³</td>
                    <td>String, 3-20 kÃ½ tá»±</td>
                    <td>KhÃ´ng cÃ³ kÃ½ tá»± Ä‘áº·c biá»‡t</td>
                </tr>
                <tr>
                    <td>password</td>
                    <td>CÃ³</td>
                    <td>String, tá»‘i thiá»ƒu 6 kÃ½ tá»±</td>
                    <td>NÃªn dÃ¹ng máº­t kháº©u máº¡nh</td>
                </tr>
                <tr>
                    <td>email</td>
                    <td>CÃ³</td>
                    <td>Email há»£p lá»‡</td>
                    <td>DÃ¹ng Ä‘á»ƒ khÃ´i phá»¥c máº­t kháº©u</td>
                </tr>
                <tr>
                    <td>fullName</td>
                    <td>CÃ³</td>
                    <td>String</td>
                    <td>Há» vÃ  tÃªn Ä‘áº§y Ä‘á»§</td>
                </tr>
                <tr>
                    <td>phone</td>
                    <td>CÃ³</td>
                    <td>10-11 sá»‘</td>
                    <td>Sá»‘ Ä‘iá»‡n thoáº¡i liÃªn láº¡c</td>
                </tr>
            </table>

            <h3>Response thÃ nh cÃ´ng (201 Created)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "message": "ÄÄƒng kÃ½ thÃ nh cÃ´ng",
  "data": {
    "user_id": 5,
    "username": "reader123",
    "email": "reader@example.com",
    "role": "reader"
  }
}</pre>
            </div>

            <div class="tip">
                <strong>ğŸ’¡ LÆ°u Ã½:</strong> Sau khi Ä‘Äƒng kÃ½ thÃ nh cÃ´ng, báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ láº¥y token xÃ¡c thá»±c.
            </div>
        </div>

        <div class="section">
            <h2>2. ÄÄƒng nháº­p</h2>
            
            <h3>Má»¥c Ä‘Ã­ch</h3>
            <p>ÄÄƒng nháº­p vÃ o há»‡ thá»‘ng vÃ  nháº­n token Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c API khÃ¡c.</p>

            <h3>API sá»­ dá»¥ng</h3>
            <div class="code-block">
                <p><strong>Endpoint:</strong> POST /api/auth/login</p>
                <p><strong>URL:</strong> http://localhost:5000/api/auth/login</p>
                <p><strong>Method:</strong> POST</p>
                <p><strong>Quyá»n:</strong> Public (khÃ´ng cáº§n token)</p>
                <p><strong>Headers:</strong></p>
                <pre>Content-Type: application/json</pre>
            </div>

            <h3>Request Body</h3>
            <div class="code-block">
                <pre>{
  "username": "reader123",
  "password": "123456"
}</pre>
            </div>

            <h3>Response thÃ nh cÃ´ng (200 OK)</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "message": "ÄÄƒng nháº­p thÃ nh cÃ´ng",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 5,
      "username": "reader123",
      "email": "reader@example.com",
      "fullName": "Nguyen Van A",
      "role": "reader"
    }
  }
}</pre>
            </div>

            <div class="warning">
                <strong>âš ï¸ Quan trá»ng:</strong> LÆ°u token nÃ y vÃ  sá»­ dá»¥ng cho táº¥t cáº£ cÃ¡c API yÃªu cáº§u xÃ¡c thá»±c!
            </div>
        </div>

        <div class="section">
            <h2>3. Sá»­ dá»¥ng Token</h2>
            
            <h3>CÃ¡ch thÃªm token vÃ o request</h3>
            <p>Sau khi Ä‘Äƒng nháº­p thÃ nh cÃ´ng, thÃªm token vÃ o header cá»§a má»i request:</p>
            
            <div class="code-block">
                <pre>Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</pre>
            </div>

            <h3>VÃ­ dá»¥ sá»­ dá»¥ng vá»›i cURL</h3>
            <div class="code-block">
                <pre>curl -X GET http://localhost:5000/api/readers/5 \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json"</pre>
            </div>

            <h3>VÃ­ dá»¥ sá»­ dá»¥ng vá»›i JavaScript (fetch)</h3>
            <div class="code-block">
                <pre>fetch('http://localhost:5000/api/readers/5', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer ' + token,
    'Content-Type': 'application/json'
  }
})
.then(response => response.json())
.then(data => console.log(data));</pre>
            </div>

            <h3>LÆ°u trá»¯ token</h3>
            <ul>
                <li><strong>localStorage:</strong> LÆ°u lÃ¢u dÃ i, tá»“n táº¡i ngay cáº£ khi Ä‘Ã³ng trÃ¬nh duyá»‡t</li>
                <li><strong>sessionStorage:</strong> Chá»‰ tá»“n táº¡i trong phiÃªn lÃ m viá»‡c hiá»‡n táº¡i</li>
                <li><strong>Cookie:</strong> CÃ³ thá»ƒ thiáº¿t láº­p thá»i gian háº¿t háº¡n</li>
            </ul>

            <div class="code-block">
                <pre>// LÆ°u token vÃ o localStorage
localStorage.setItem('token', token);

// Láº¥y token tá»« localStorage
const token = localStorage.getItem('token');

// XÃ³a token
localStorage.removeItem('token');</pre>
            </div>
        </div>

        <div class="section">
            <h2>4. Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p</h2>
            
            <div class="error-box">
                <h3>âŒ 400 Bad Request - Thiáº¿u thÃ´ng tin</h3>
                <p>NguyÃªn nhÃ¢n: ChÆ°a Ä‘iá»n Ä‘á»§ cÃ¡c trÆ°á»ng báº¯t buá»™c</p>
                <p>Giáº£i phÃ¡p: Kiá»ƒm tra láº¡i request body, Ä‘áº£m báº£o cÃ³ Ä‘á»§ username, password, email, fullName, phone</p>
            </div>

            <div class="error-box">
                <h3>âŒ 401 Unauthorized - Sai thÃ´ng tin Ä‘Äƒng nháº­p</h3>
                <p>NguyÃªn nhÃ¢n: Username hoáº·c password khÃ´ng Ä‘Ãºng</p>
                <p>Giáº£i phÃ¡p: Kiá»ƒm tra láº¡i thÃ´ng tin Ä‘Äƒng nháº­p, phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng</p>
            </div>

            <div class="error-box">
                <h3>âŒ 409 Conflict - Username Ä‘Ã£ tá»“n táº¡i</h3>
                <p>NguyÃªn nhÃ¢n: Username hoáº·c email Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½</p>
                <p>Giáº£i phÃ¡p: Chá»n username/email khÃ¡c hoáº·c Ä‘Äƒng nháº­p náº¿u Ä‘Ã£ cÃ³ tÃ i khoáº£n</p>
            </div>

            <div class="error-box">
                <h3>âŒ Token expired - Token háº¿t háº¡n</h3>
                <p>NguyÃªn nhÃ¢n: Token cÃ³ thá»i háº¡n 24 giá», sau Ä‘Ã³ sáº½ háº¿t háº¡n</p>
                <p>Giáº£i phÃ¡p: ÄÄƒng nháº­p láº¡i Ä‘á»ƒ láº¥y token má»›i</p>
            </div>
        </div>

        <div class="section">
            <h2>5. Best Practices</h2>
            
            <ul class="checklist">
                <li>âœ“ Sá»­ dá»¥ng máº­t kháº©u máº¡nh (Ã­t nháº¥t 8 kÃ½ tá»±, cÃ³ chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘)</li>
                <li>âœ“ KhÃ´ng chia sáº» token cho ngÆ°á»i khÃ¡c</li>
                <li>âœ“ ÄÄƒng xuáº¥t khi sá»­ dá»¥ng mÃ¡y tÃ­nh cÃ´ng cá»™ng</li>
                <li>âœ“ LÆ°u token an toÃ n, khÃ´ng Ä‘á»ƒ trong code public</li>
                <li>âœ“ Kiá»ƒm tra token cÃ³ háº¿t háº¡n trÆ°á»›c khi gá»i API</li>
                <li>âœ“ Cáº­p nháº­t email Ä‘á»ƒ nháº­n thÃ´ng bÃ¡o quan trá»ng</li>
            </ul>
        </div>

        <div class="navigation">
            <a href="index.html" class="btn">â† Trang chá»§</a>
            <a href="reader_management.html" class="btn">Quáº£n lÃ½ Ä‘á»™c giáº£ â†’</a>
        </div>
    </div>
</body>
</html>


