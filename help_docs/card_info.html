<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem th√¥ng tin th·∫ª</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="index.html">Trang ch·ªß</a> &gt; Xem th√¥ng tin th·∫ª
        </div>

        <h1>‚ÑπÔ∏è Xem th√¥ng tin th·∫ª th∆∞ vi·ªán</h1>

        <div class="section">
            <h2>Gi·ªõi thi·ªáu</h2>
            <p>Th·∫ª th∆∞ vi·ªán l√† c√¥ng c·ª• quan tr·ªçng ƒë·ªÉ b·∫°n s·ª≠ d·ª•ng c√°c d·ªãch v·ª• c·ªßa th∆∞ vi·ªán. Trang n√†y h∆∞·ªõng d·∫´n b·∫°n c√°ch ki·ªÉm tra th√¥ng tin th·∫ª v√† hi·ªÉu c√°c th√¥ng s·ªë quan tr·ªçng.</p>
        </div>

        <div class="section">
            <h2>C√°ch xem th√¥ng tin th·∫ª</h2>
            
            <h3>B∆∞·ªõc 1: Chu·∫©n b·ªã</h3>
            <ul>
                <li>ƒêƒÉng nh·∫≠p v√†o h·ªá th·ªëng ƒë·ªÉ l·∫•y token</li>
                <li>Bi·∫øt ID ƒë·ªôc gi·∫£ c·ªßa b·∫°n (ƒë∆∞·ª£c cung c·∫•p khi ƒëƒÉng nh·∫≠p)</li>
            </ul>

            <h3>B∆∞·ªõc 2: G·ªçi API</h3>
            <div class="code-block">
                <p><strong>Endpoint:</strong> GET /api/readers/:id/card-info</p>
                <p><strong>URL m·∫´u:</strong> http://localhost:5000/api/readers/5/card-info</p>
                <p><strong>Method:</strong> GET</p>
                <p><strong>Headers:</strong></p>
                <pre>Authorization: Bearer {your_token_here}
Content-Type: application/json</pre>
            </div>

            <h3>Response m·∫´u</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "data": {
    "card_number": "LIB2024001",
    "issue_date": "2024-01-15",
    "expiry_date": "2024-12-31",
    "status": "active",
    "days_remaining": 79,
    "reader_info": {
      "id": 5,
      "fullName": "Nguyen Van A",
      "email": "reader@example.com"
    }
  }
}</pre>
            </div>
        </div>

        <div class="section">
            <h2>Gi·∫£i th√≠ch c√°c tr∆∞·ªùng th√¥ng tin</h2>
            
            <table class="data-table">
                <tr>
                    <th>Tr∆∞·ªùng</th>
                    <th>√ù nghƒ©a</th>
                    <th>V√≠ d·ª•</th>
                </tr>
                <tr>
                    <td>card_number</td>
                    <td>S·ªë th·∫ª th∆∞ vi·ªán</td>
                    <td>LIB2024001</td>
                </tr>
                <tr>
                    <td>issue_date</td>
                    <td>Ng√†y c·∫•p th·∫ª</td>
                    <td>2024-01-15</td>
                </tr>
                <tr>
                    <td>expiry_date</td>
                    <td>Ng√†y h·∫øt h·∫°n</td>
                    <td>2024-12-31</td>
                </tr>
                <tr>
                    <td>status</td>
                    <td>Tr·∫°ng th√°i th·∫ª</td>
                    <td>active / expired / suspended</td>
                </tr>
                <tr>
                    <td>days_remaining</td>
                    <td>S·ªë ng√†y c√≤n l·∫°i</td>
                    <td>79 (t√≠nh t·ª´ ng√†y hi·ªán t·∫°i)</td>
                </tr>
            </table>
        </div>

        <div class="section">
            <h2>C√°c tr·∫°ng th√°i th·∫ª</h2>
            
            <div class="status-box active">
                <h3>‚úÖ Active (ƒêang ho·∫°t ƒë·ªông)</h3>
                <p><strong>√ù nghƒ©a:</strong> Th·∫ª ƒëang c√≤n h·∫°n v√† ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng</p>
                <p><strong>B·∫°n c√≥ th·ªÉ:</strong></p>
                <ul>
                    <li>‚úì M∆∞·ª£n s√°ch m·ªõi</li>
                    <li>‚úì Gia h·∫°n s√°ch ƒëang m∆∞·ª£n</li>
                    <li>‚úì S·ª≠ d·ª•ng ƒë·∫ßy ƒë·ªß d·ªãch v·ª• th∆∞ vi·ªán</li>
                </ul>
            </div>

            <div class="status-box warning">
                <h3>‚ö†Ô∏è Expiring Soon (S·∫Øp h·∫øt h·∫°n)</h3>
                <p><strong>√ù nghƒ©a:</strong> Th·∫ª c√≤n √≠t h∆°n 30 ng√†y</p>
                <p><strong>Khuy·∫øn ngh·ªã:</strong></p>
                <ul>
                    <li>Li√™n h·ªá th∆∞ vi·ªán ƒë·ªÉ gia h·∫°n th·∫ª s·ªõm</li>
                    <li>Chu·∫©n b·ªã gi·∫•y t·ªù c·∫ßn thi·∫øt cho vi·ªác gia h·∫°n</li>
                </ul>
            </div>

            <div class="status-box expired">
                <h3>‚ùå Expired (H·∫øt h·∫°n)</h3>
                <p><strong>√ù nghƒ©a:</strong> Th·∫ª ƒë√£ h·∫øt h·∫°n s·ª≠ d·ª•ng</p>
                <p><strong>H·∫°n ch·∫ø:</strong></p>
                <ul>
                    <li>‚úó Kh√¥ng th·ªÉ m∆∞·ª£n s√°ch m·ªõi</li>
                    <li>‚úó Kh√¥ng th·ªÉ gia h·∫°n s√°ch</li>
                    <li>‚úì V·∫´n ph·∫£i tr·∫£ s√°ch ƒëang m∆∞·ª£n</li>
                </ul>
                <p><strong>Gi·∫£i ph√°p:</strong> Li√™n h·ªá th∆∞ vi·ªán ngay ƒë·ªÉ gia h·∫°n th·∫ª</p>
            </div>

            <div class="status-box suspended">
                <h3>üö´ Suspended (B·ªã ƒë√¨nh ch·ªâ)</h3>
                <p><strong>√ù nghƒ©a:</strong> Th·∫ª b·ªã t·∫°m ng∆∞ng do vi ph·∫°m quy ƒë·ªãnh</p>
                <p><strong>Nguy√™n nh√¢n th∆∞·ªùng g·∫∑p:</strong></p>
                <ul>
                    <li>Tr·∫£ s√°ch tr·ªÖ qu√° nhi·ªÅu l·∫ßn</li>
                    <li>C√≥ nhi·ªÅu ti·ªÅn ph·∫°t ch∆∞a thanh to√°n</li>
                    <li>L√†m m·∫•t ho·∫∑c h∆∞ h·ªèng s√°ch</li>
                </ul>
                <p><strong>Gi·∫£i ph√°p:</strong> Li√™n h·ªá th∆∞ vi·ªán ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ</p>
            </div>
        </div>

        <div class="section">
            <h2>C√°ch hi·ªÉu days_remaining</h2>
            
            <table class="status-table">
                <tr>
                    <th>S·ªë ng√†y c√≤n l·∫°i</th>
                    <th>ƒê√°nh gi√°</th>
                    <th>H√†nh ƒë·ªông</th>
                </tr>
                <tr class="good">
                    <td>&gt; 90 ng√†y</td>
                    <td>R·∫•t t·ªët</td>
                    <td>Kh√¥ng c·∫ßn lo l·∫Øng</td>
                </tr>
                <tr class="ok">
                    <td>30-90 ng√†y</td>
                    <td>B√¨nh th∆∞·ªùng</td>
                    <td>Theo d√µi ƒë·ªãnh k·ª≥</td>
                </tr>
                <tr class="warning">
                    <td>7-30 ng√†y</td>
                    <td>C·∫ßn ch√∫ √Ω</td>
                    <td>Chu·∫©n b·ªã gia h·∫°n</td>
                </tr>
                <tr class="danger">
                    <td>1-7 ng√†y</td>
                    <td>Kh·∫©n c·∫•p</td>
                    <td>Gia h·∫°n ngay</td>
                </tr>
                <tr class="expired">
                    <td>‚â§ 0 ng√†y</td>
                    <td>H·∫øt h·∫°n</td>
                    <td>Li√™n h·ªá th∆∞ vi·ªán</td>
                </tr>
            </table>
        </div>

        <div class="section">
            <h2>Ki·ªÉm tra th·∫ª ƒë·ªãnh k·ª≥</h2>
            
            <h3>T·∫ßn su·∫•t khuy·∫øn ngh·ªã</h3>
            <ul>
                <li><strong>H√†ng th√°ng:</strong> Ki·ªÉm tra √≠t nh·∫•t 1 l·∫ßn/th√°ng</li>
                <li><strong>Khi s·∫Øp m∆∞·ª£n s√°ch:</strong> Ki·ªÉm tra tr∆∞·ªõc khi t·∫°o y√™u c·∫ßu m∆∞·ª£n</li>
                <li><strong>Khi nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o:</strong> Ki·ªÉm tra khi h·ªá th·ªëng g·ª≠i c·∫£nh b√°o</li>
            </ul>

            <h3>V√≠ d·ª• code t·ª± ƒë·ªông ki·ªÉm tra</h3>
            <div class="code-block">
                <pre>async function checkCardStatus(userId, token) {
  try {
    const response = await fetch(
      `http://localhost:5000/api/readers/${userId}/card-info`,
      {
        headers: {
          'Authorization': `Bearer ${token}`
        }
      }
    );
    
    const result = await response.json();
    const cardInfo = result.data;
    
    // Ki·ªÉm tra tr·∫°ng th√°i
    if (cardInfo.status === 'expired') {
      alert('‚ö†Ô∏è Th·∫ª c·ªßa b·∫°n ƒë√£ h·∫øt h·∫°n! Vui l√≤ng gia h·∫°n.');
      return false;
    }
    
    if (cardInfo.days_remaining < 30) {
      alert(`‚ö†Ô∏è Th·∫ª c√≤n ${cardInfo.days_remaining} ng√†y. N√™n gia h·∫°n s·ªõm!`);
    }
    
    return true;
  } catch (error) {
    console.error('L·ªói ki·ªÉm tra th·∫ª:', error);
    return false;
  }
}

// S·ª≠ d·ª•ng
const userId = 5;
const token = localStorage.getItem('token');
checkCardStatus(userId, token);</pre>
            </div>
        </div>

        <div class="section">
            <h2>X·ª≠ l√Ω l·ªói</h2>
            
            <div class="error-box">
                <h3>‚ùå 401 Unauthorized</h3>
                <p>Token kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n. ƒêƒÉng nh·∫≠p l·∫°i.</p>
            </div>

            <div class="error-box">
                <h3>‚ùå 403 Forbidden</h3>
                <p>B·∫°n ƒëang c·ªë xem th√¥ng tin th·∫ª c·ªßa ng∆∞·ªùi kh√°c. Ch·ªâ xem ƒë∆∞·ª£c th·∫ª c·ªßa m√¨nh.</p>
            </div>

            <div class="error-box">
                <h3>‚ùå 404 Not Found</h3>
                <p>Kh√¥ng t√¨m th·∫•y th√¥ng tin th·∫ª. ID ƒë·ªôc gi·∫£ c√≥ th·ªÉ kh√¥ng ƒë√∫ng.</p>
            </div>
        </div>

        <div class="section">
            <h2>C√¢u h·ªèi th∆∞·ªùng g·∫∑p</h2>
            
            <div class="faq">
                <p><strong>Q: S·ªë th·∫ª th∆∞ vi·ªán d√πng ƒë·ªÉ l√†m g√¨?</strong></p>
                <p>A: S·ªë th·∫ª l√† m√£ ƒë·ªãnh danh duy nh·∫•t c·ªßa b·∫°n trong h·ªá th·ªëng th∆∞ vi·ªán, d√πng khi ƒë·∫øn m∆∞·ª£n/tr·∫£ s√°ch tr·ª±c ti·∫øp.</p>
            </div>

            <div class="faq">
                <p><strong>Q: T·∫°i sao days_remaining l√† s·ªë √¢m?</strong></p>
                <p>A: S·ªë √¢m nghƒ©a l√† th·∫ª ƒë√£ qu√° h·∫°n b·∫•y nhi√™u ng√†y. V√≠ d·ª•: -5 nghƒ©a l√† h·∫øt h·∫°n t·ª´ 5 ng√†y tr∆∞·ªõc.</p>
            </div>

            <div class="faq">
                <p><strong>Q: Th·∫ª b·ªã suspended c√≥ t·ª± ƒë·ªông active l·∫°i kh√¥ng?</strong></p>
                <p>A: Kh√¥ng, b·∫°n c·∫ßn li√™n h·ªá th∆∞ vi·ªán ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ v√† k√≠ch ho·∫°t l·∫°i th·∫ª.</p>
            </div>

            <div class="faq">
                <p><strong>Q: C√≥ th·ªÉ xem l·ªãch s·ª≠ gia h·∫°n th·∫ª kh√¥ng?</strong></p>
                <p>A: Hi·ªán t·∫°i API ch·ªâ hi·ªÉn th·ªã ng√†y c·∫•p v√† ng√†y h·∫øt h·∫°n hi·ªán t·∫°i. Li√™n h·ªá th∆∞ vi·ªán ƒë·ªÉ xem l·ªãch s·ª≠ chi ti·∫øt.</p>
            </div>
        </div>

        <div class="navigation">
            <a href="profile_update.html" class="btn">‚Üê C·∫≠p nh·∫≠t th√¥ng tin</a>
            <a href="troubleshooting.html" class="btn">X·ª≠ l√Ω s·ª± c·ªë ‚Üí</a>
        </div>
    </div>
</body>
</html>


